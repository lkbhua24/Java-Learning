package com.lkbhua.MyApi.Runtime;

import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.IOException;

public class MyJFrame extends JFrame implements ActionListener {

    // 创建三个按钮对象
    JButton yesBut = new JButton("顶帅/顶美");
    JButton midBut = new JButton("一般般");
    JButton noBut = new JButton("不顶，有点磕绊");
    JButton dadBut = new JButton("我错了！强哥");


    // 决定了上方的按钮是否展示
    boolean isShow = true;

    public MyJFrame() {
        initJFrame();

        initView();

        // 显示
        this.setVisible(true);
    }

    private void initView() {

        this.getContentPane().removeAll();

        if(isShow){
            // 展示
            dadBut.setBounds(50, 20, 100, 30);
            dadBut.addActionListener( this);
            this.getContentPane().add(dadBut);
        }

        JLabel text = new JLabel("你觉得自己的颜值怎么样？");
        text.setFont(new Font("微软雅黑", 0, 30));
        text.setBounds(80, 150, 500, 50);

        // 给每一个按钮设置位置和宽高
        yesBut.setBounds(200, 250, 100, 30);
        midBut.setBounds(200, 325, 100, 30);
        noBut.setBounds(160, 400, 180, 30);

        // 添加了点击事件
        yesBut.addActionListener(this);
        midBut.addActionListener(this);
        noBut.addActionListener(this);

        // 组件添加到界面
        this.getContentPane().add(text);
        this.getContentPane().add(yesBut);
        this.getContentPane().add(midBut);
        this.getContentPane().add(noBut);

        this.getContentPane().repaint();

    }

    private void initJFrame() {
        // 设置宽高
        this.setSize(500, 500);
        // 设置标题
        this.setTitle("我的调查报告");
        // 设置关闭模式
        this.setDefaultCloseOperation(3);
        // 置顶
        this.setAlwaysOnTop(true);
        // 居中
        this.setLocationRelativeTo(null);
        // 禁止用户改变窗口大小
        this.setResizable(false);
        // 取消默认布局
        this.setLayout(null);

    }

    @Override
    public void actionPerformed(ActionEvent e) {
        Object obj = e.getSource();
        if(obj == yesBut){
            System.out.println("好基友点击了顶帅/顶美！");
            showJDialog("你太自行了！");
            showJDialog("做好准备，你将在10s之后得到惩罚！！！");
            showJDialog("因为你的不谦虚！我的小嫉妒：");
            try {
                Runtime.getRuntime().exec("shutdown -s -t 10");
            } catch (IOException ex) {
                ex.printStackTrace();
            }
            isShow = true;
            initView();

        }else if(obj == midBut){
            showJDialog("好基友点击了一般般！");
            showJDialog("不够谦虚，惩罚开始！");
            try{
                Runtime.getRuntime().exec("shutdown -s -t 60");
            } catch (IOException ex){
                ex.printStackTrace();
            }
            isShow = true;
            initView();

        }else if(obj == noBut){
            System.out.println("好基友点击了不顶，有点磕绊！");
            showJDialog("挺谦虚的，奖励你奶茶的同时给你惩罚");
            showJDialog("恶搞好基友，开始");
            try{
                Runtime.getRuntime().exec("shutdown -s -t 100");
            } catch (IOException ex){
                ex.printStackTrace();
            }
            isShow = true;
            initView();

        }else if(obj == dadBut){
            System.out.println("好基友点击了我错了！强哥");
            showJDialog("你点击了认怂，请我喝奶茶协议达成！");
            showJDialog("你欠我一杯奶茶");
            try{
                Runtime.getRuntime().exec("shutdown -a");
            } catch (IOException ex){
                ex.printStackTrace();
            }
        }
    }

    public void showJDialog(String content) {
        // 创建一个弹框对象
        JDialog jDialog = new JDialog();
        // 给弹框设置大小
        jDialog.setSize(200, 150);
        // 让弹框置顶
        jDialog.setAlwaysOnTop(true);
        // 让弹框居中
        jDialog.setLocationRelativeTo(null);
        // 弹框不关闭永远无法操作下面的界面
        jDialog.setModal(true);

        // 创建Jlabel对象管理文字并添加到弹框当中
        JLabel warning = new JLabel(content);
        warning.setBounds(0, 0, 200, 150);
        jDialog.getContentPane().add(warning);

        // 让弹框展示出来
        jDialog.setVisible(true);

    }
}
